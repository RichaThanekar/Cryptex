<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="Registration.css">
    <title>Registration Page</title>
    <link rel="shortcut icon" href="images/favicon.svg" type="image/svg+xml">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Lato&family=Montserrat:wght@300;400;800&display=swap" rel="stylesheet">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Kanit:wght@500&display=swap" rel="stylesheet">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Kanit:wght@500&family=PT+Serif:wght@700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
    
</head>
<body>
  
  <video autoplay muted loop id="myVideo">
    <source src="bgvdo.mp4" type="video/mp4">
  </video>
    <div class="container">
        
      <div class="registration">
        <form action="#">
          <h1>Sign Up</h1>
        <p>Register to track your favorite coin easily!!!</p>
          <div class="field username">
            <div class="input-field">
              <input type="username" placeholder="Username" class="username" />
            </div>
          </div>
            <div class="field email-field">
                <div class="input-field">
                  <input type="email" placeholder="Enter your email" class="email" />
                </div>
                <span class="error email-error">
                    <i class="fa-solid fa-circle-exclamation"></i>
                    <p class="error-text">Please enter a valid email</p>
                  </span>
                </div>
            <div class="field create-password">
                <div class="input-field">
                  <input type="password" placeholder="Create password" class="password" />

                </div>
                <span class="error password-error">
                <i class="fa-solid fa-circle-exclamation"></i>
                  <p class="error-text">
                    Please enter atleast 8 characters with number, symbol and
                    capital letter.
                  </p>
                </span>
              </div>
              <div class="field confirm-password">
                <div class="input-field">
                  <input type="password" placeholder="Confirm password" class="cPassword" />

                </div>
                <span class="error cPassword-error">
                    <i class="fa-solid fa-circle-exclamation"></i>
                  <p class="error-text">Password doesn't match</p>
                </span>
              </div>
              <div class="input-field button">
                <input type="submit" value="Register" />
              </div>
              <div class="login_signup">Already have an account? <a href="#" class="login">Login</a></div>

        </form>
      </div>
            
        </form>
    </div>
    <script>
     
      const form = document.querySelector("form"),
  emailField = form.querySelector(".email-field"),
  emailInput = emailField.querySelector(".email"),
  passField = form.querySelector(".create-password"),
  passInput = passField.querySelector(".password"),
  cPassField = form.querySelector(".confirm-password"),
  cPassInput = cPassField.querySelector(".cPassword");
  

// Email Validtion
function checkEmail() {
  const emaiPattern = /^[^ ]+@[^ ]+\.[a-z]{2,3}$/;
  if (!emailInput.value.match(emaiPattern)) {
    return emailField.classList.add("invalid"); //adding invalid class if email value do not mathced with email pattern
  }
  emailField.classList.remove("invalid"); //removing invalid class if email value matched with emaiPattern
}



// Password Validation
function createPass() {
  const passPattern = /^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{8,}$/;

  if (!passInput.value.match(passPattern)) {
    return passField.classList.add("invalid"); //adding invalid class if password input value do not match with passPattern
  }
  passField.classList.remove("invalid"); //removing invalid class if password input value matched with passPattern
}

// Confirm Password Validtion
function confirmPass() {
  if (passInput.value !== cPassInput.value || cPassInput.value === "") {
    return cPassField.classList.add("invalid");
  }
  cPassField.classList.remove("invalid");
}

// Calling Funtion on Form Sumbit
form.addEventListener("submit", (e) => {
  e.preventDefault(); //preventing form submitting
  checkEmail();
  createPass();
  confirmPass();

  //calling function on key up
  emailInput.addEventListener("keyup", checkEmail);
  passInput.addEventListener("keyup", createPass);
  cPassInput.addEventListener("keyup", confirmPass);

  if (
    !emailField.classList.contains("invalid") &&
    !passField.classList.contains("invalid") &&
    !cPassField.classList.contains("invalid")
  ) {
    location.href = form.getAttribute("action");
  }
 
});
  </script>
  
</body>

</html>
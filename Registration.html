<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="Registration.css">
    <title>Registration Page</title>
    <link rel="shortcut icon" href="images/favicon.svg" type="image/svg+xml">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Lato&family=Montserrat:wght@300;400;800&display=swap" rel="stylesheet">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Kanit:wght@500&display=swap" rel="stylesheet">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Kanit:wght@500&family=PT+Serif:wght@700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
    
</head>
<body>
  
  <video autoplay muted loop id="myVideo">
    <source src="bgvdo.mp4" type="video/mp4">
  </video>
    <div class="container">
        
      <div class="registration">
        <form action="#">
          <h1>Sign Up</h1>
        <p>Register to track your favorite coin easily!!!</p>
          <div class="field username">
            <div class="input-field">
              <input type="username" placeholder="Username" class="username" />
            </div>
          </div>
            <div class="field email-field">
                <div class="input-field">
                  <input type="email" placeholder="Enter your email" class="email" />
                </div>
                <span class="error email-error">
                    <i class="fa-solid fa-circle-exclamation"></i>
                    <p class="error-text">Please enter a valid email</p>
                  </span>
                </div>
            <div class="field create-password">
                <div class="input-field">
                  <input type="password" placeholder="Create password" class="password" />

                </div>
                <span class="error password-error">
                  <i class="fa-solid fa-circle-exclamation"></i>

                  <p class="error-text">
                    Please enter atleast 8 characters with number, symbol and
                    capital letter.
                  </p>
                </span>
              </div>
             
              <div class="input-field button">
                <input type="submit" value="Register" />
              </div>
              <div class="login_signup">Already have an account? <a href="login.html" class="login">Login</a></div>

        </form>
      </div>
            
        </form>
    </div>
    <script>
     
     const form = document.querySelector("form");
const emailField = form.querySelector(".email-field");
const emailInput = emailField.querySelector(".email");
const passField = form.querySelector(".create-password");
const passInput = passField.querySelector(".password");

// Password Validation
function createPass() {
  console.log("createPass function called");
  const passPattern = /^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{8,}$/;

  if (!passInput.value.match(passPattern)) {
    console.log("Password is invalid");
    passField.classList.add("invalid");
    passField.querySelector(".password-error").style.display = "block";
    return false;
  } else {
    console.log("Password is valid");
    passField.classList.remove("invalid");
    passField.querySelector(".password-error").style.display = "none";
    return true;
  }
}



// Email Validation
function checkEmail() {
  const emailPattern = /^[^ ]+@[^ ]+\.[a-z]{2,3}$/;
  if (!emailInput.value.match(emailPattern)) {
    emailField.classList.add("invalid");
    return false;
  } else {
    emailField.classList.remove("invalid");
    return true;
  }
}

// Redirect to "home.html" if both email and password are valid
function redirectToHome() {
  if (checkEmail() && createPass()) {
    window.location.href = "home.html";
  }
}

// Calling Functions on Input Change
emailInput.addEventListener("input", checkEmail);
passInput.addEventListener("input", createPass);

// Remove "invalid" class when the fields are empty
emailInput.addEventListener("input", function () {
  if (emailInput.value === "") {
    emailField.classList.remove("invalid");
  }
});

passInput.addEventListener("input", function () {
  if (passInput.value === "") {
    passField.classList.remove("invalid");
  }
});

// Add an event listener to submit the form
form.addEventListener("submit", function (e) {
  e.preventDefault(); // Prevent form submission
  redirectToHome();
});

  </script>
  
</body>

</html>